<!doctype html>
<html lang="en">

{% load static %}

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>JOINORA </title>
    <!-- google fonts -->
    <link href="//fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Template CSS -->
    <link rel="stylesheet" href="{% static 'assets/css/style-liberty.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-u0yT1B5Fbo7nYv7LllHmhW0KmNwBGpWvH4PzNCMwG1jE0CSwBbqPjb4F6FhgE0l5SXO/+FFA1uwd98QxkGOfZg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /* Popup overlay - initially hidden */
        .pop-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        /* Show popup when active */
        .pop-overlay.active {
            display: flex;
            opacity: 1;
        }

        /* Popup content */
        .popup {
            background: white;
            padding: 30px;
            border-radius: 5px;
            width: 90%;
            max-width: 500px;
            position: relative;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
        }

        /* Close button */
        .close {
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 24px;
            color: #333;
            text-decoration: none;
            cursor: pointer;
        }

        .close:hover {
            color: #ff9e00;
        }

        /* Form styling */
        .form-group {
            margin-bottom: 1rem;
        }

        .form-control,
        .form-select {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .invalid-feedback {
            color: #dc3545;
            font-size: 0.875em;
            margin-top: 0.25rem;
        }

        .btn-style {
            padding: 0.5rem 1.5rem;
            border-radius: 4px;
            font-weight: 500;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background-color: #ff9e00;
            color: white;
        }

        .btn-primary:hover {
            background-color: #e08a00;
        }
    </style>
    <style>
        /* Hide popup by default */
        .pop-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
        }

        /* Show popup when targeted */
        .pop-overlay:target {
            opacity: 1;
            visibility: visible;
        }

        /* Popup content styling */
        .popup {
            background: #fff;
            padding: 30px;
            border-radius: 5px;
            width: 90%;
            max-width: 500px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
        }

        /* Close button */
        .close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: #fff;
            font-size: 30px;
            font-weight: bold;
            text-decoration: none;
            transition: all 0.3s;
        }

        .close:hover {
            color: #ff9e00;
        }
    </style>

    <style>
        .custom-tall-img {
    height: 500px;          /* adjust as needed */
    object-fit: cover;      /* keeps image looking good */
    border-radius: 10px;
    width: 100%;
}
    .joinora-section h5 {
        margin-top: 32px;
        font-weight: 700;
    }
    .joinora-section ul {
        margin-left: 25px;
        margin-top: 10px;
    }
    .joinora-section ul li {
        margin-bottom: 6px;
        list-style: none;
    }
    .joinora-section ul li::before {
        content: "\f111"; /* solid circle */
        font-family: "Font Awesome 6 Free";
        font-weight: 900;
        margin-right: 10px;
        font-size: 8px;
        color: #ff9800;
    }
</style>

<style>
    /* Terms & Conditions Popup Styling */
    #terms-popup .popup-content {
        background: var(--bg-color, #fff);
        color: var(--text-color, #333);
    }
    
    #terms-popup h3,
    #terms-popup h5,
    #terms-popup p,
    #terms-popup li {
        color: var(--text-color, #333) !important;
    }
    
    /* Dark mode overrides */
    body.dark-mode #terms-popup .popup-content {
        background: #2d2d2d;
        color: #f0f0f0;
    }
    
    body.dark-mode #terms-popup h3,
    body.dark-mode #terms-popup h5,
    body.dark-mode #terms-popup p,
    body.dark-mode #terms-popup li {
        color: #f0f0f0 !important;
    }
    
    #terms-popup .btn-primary {
        background-color: #ff9e00;
        color: #fff;
    }

    #terms-popup .btn-primary:hover {
        background-color: #e08a00;
    }
</style>
<!-- Razorpay Script -->
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>

<body>
    <!--/Header-->
    <header id="site-header" class="fixed-top">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light stroke py-lg-0">
                <h1><a class="navbar-brand pe-xl-5 pe-lg-4" href="{% url 'home' %}">
                        <span class="w3yellow">Join</span>ora
                    </a></h1>

                <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon fa icon-expand fa-bars"></span>
                    <span class="navbar-toggler-icon fa icon-close fa-times"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarScroll">
                    <ul class="navbar-nav me-lg-auto my-2 my-lg-0 navbar-nav-scroll">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="{% url 'home' %}">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'about' %}">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'services' %}"></a>
                        </li>
                        <li class="nav-item dropdown">
                            <!-- <a class="nav-link dropdown-toggle" href="#Pages" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                 <span class="fa fa-angle-down ms-1"></span> -->
                            </a>
                            <!-- <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <li><a class="dropdown-item pt-2" href="blog.html">Blog Page</a></li>
                                <li><a class="dropdown-item" href="blog-single.html">Blog Single</a></li>

                                <li><a class="dropdown-item" href="email.html">Email Page</a></li>
                                <li><a class="dropdown-item" href="elements.html">Elements</a></li>

                                <li><a class="dropdown-item" href="landing.html">Landing Page</a></li>

                                <li><a class="dropdown-item" href="error.html">Error Page</a></li>
                            </ul> -->
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contact.html"></a>
                        </li>
                    </ul>
                    <!--/search-right-->
                    <ul class="header-search me-lg-4">
                        <li class="search-right">
                            <a href="#join-now" class="btn btn-style btn-primary search-btn" title="Join"><span
                                    class="fas fa-user-plus me-2" aria-hidden="true"></span> Join</a>
                            <!-- search popup -->
                            <div id="join-now" class="pop-overlay">
                                <div class="popup">
                                    <h3 class="title-w3l two mb-4">Join Us Now</h3>
                                    <form method="POST" class="needs-validation" id="joinForm" novalidate>
                                        {% csrf_token %}
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <input type="text" class="form-control" id="first_name"
                                                    name="first_name" placeholder="First Name" required>
                                                <div class="invalid-feedback">
                                                    Please enter your first name
                                                </div>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <input type="text" class="form-control" id="last_name" name="last_name"
                                                    placeholder="Last Name" required>
                                                <div class="invalid-feedback">
                                                    Please enter your last name
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <input type="email" class="form-control" id="email" name="email"
                                                placeholder="Email Address" required>
                                            <div class="invalid-feedback">
                                                Please enter a valid email address
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <input type="tel" class="form-control" id="phone" name="phone"
                                                placeholder="Contact Number" pattern="[0-9]{10}" required>
                                            <div class="invalid-feedback">
                                                Please enter a valid 10-digit phone number
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <select class="form-select" id="user_type" name="user_type" required>
                                                <option value="" selected disabled>Select Role & Price</option>
                                                <option value="job_seeker">Job Seeker - ₹99</option>
                                                <option value="joiner">Freelancer - ₹199</option>
                                                <option value="part_time">Professional - ₹299</option>
                                                {% comment %} <option value="employer">Premium Freelancer - ₹429</option> {% endcomment %}
                                                <option value="freelancer">Employer  - ₹319</option>
                                                {% comment %} <option value="freelancer">Premium Employer  - ₹699</option>
                                                <option value="freelancer">Work Outsourcing  - ₹499</option> {% endcomment %}
                                            </select>
                                            <div class="invalid-feedback">
                                                Please select a user type
                                            </div>
                                        </div>
                                        <div class="mb-4">
                                            <div class="input-group">
                                                <span class="input-group-text">₹</span>
                                                <input type="text" class="form-control" id="amount" name="amount"
                                                    value="" readonly required>
                                            </div>
                                            <div class="invalid-feedback">
                                                Please select a user type to see the amount
                                            </div>
                                        </div>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="termsCheckbox" required>
                                            <label class="form-check-label" for="termsCheckbox">
                                                I accept the <a href="#" id="terms-link-1" class="text-primary">Terms & Conditions</a>
                                            </label>
                                        </div>
                                        <button type="submit" id="rzp-button" class="btn btn-primary w-100" disabled>Proceed to
                                            Payment</button>
                                    </form>
                                    <script>
                                        // Form validation
                                        (function () {
                                            'use strict';
                                            const forms = document.querySelectorAll('.needs-validation');

                                            // Update amount based on user type
                                            document.getElementById('userType').addEventListener('change', function () {
                                                const amountField = document.getElementById('amount');
                                                if (this.value === 'worker') {
                                                    amountField.value = '99';
                                                } else if (this.value === 'owner') {
                                                    amountField.value = '199';
                                                } else {
                                                    amountField.value = '';
                                                }
                                            });

                                            // Form validation
                                            Array.from(forms).forEach(function (form) {
                                                form.addEventListener('submit', function (event) {
                                                    if (!form.checkValidity()) {
                                                        event.preventDefault();
                                                        event.stopPropagation();
                                                    }

                                                    // Additional validation for amount
                                                    const amountField = document.getElementById('amount');
                                                    if (!amountField.value) {
                                                        amountField.setCustomValidity('Please select a user type');
                                                    } else {
                                                        amountField.setCustomValidity('');
                                                    }

                                                    form.classList.add('was-validated');
                                                }, false);
                                            });
                                        })();
                                    </script>
                                    <!-- <div class="quick-links-side follow-us mt-5 text-center">
                                        <h5 class="title-side mb-3">Follow Us</h5>
                                        <ul class="social-icons-top">
                                            <li><a href="#url" class="twitter"><span class="fab fa-twitter"></span></a></li>
                                            <li><a href="#url" class="facebook"><span class="fab fa-facebook-f"></span></a></li>
                                            <li><a href="#url" class="linkedin"><span class="fab fa-linkedin-in"></span></a></li>
                                            <li><a href="#url" class="instagram"><span class="fab fa-instagram"></span></a></li>
                                        </ul>
                                    </div> -->

                                </div>
                                <a class="close" href="#close">×</a>
                            </div>
                            <!-- /search popup -->
                        </li>

                    </ul>
                    <!--//search-right-->
                </div>
                <!-- toggle switch for light and dark theme -->
                <div class="mobile-position">
                    <nav class="navigation">
                        <div class="theme-switch-wrapper">
                            <label class="theme-switch" for="checkbox">
                                <input type="checkbox" id="checkbox">
                                <div class="mode-container">
                                    <i class="gg-sun"></i>
                                    <i class="gg-moon"></i>
                                </div>
                            </label>
                        </div>
                    </nav>
                </div>
                <!-- //toggle switch for light and dark theme -->
            </nav>
        </div>
    </header>
    <!--//Header-->
    <!--/Banner-Start-->
    <!-- main-slider -->
    <section class="w3l-main-slider banner-slider position-relative" id="home">
        <div class="owl-one owl-carousel owl-theme">
            <div class="item">
                <div class="slider-info banner-view banner-top1">
                    <div class="container">
                        <div class="banner-info header-hero-19">
                            <h5>Welcome</h5>
                            <h3 class="title-hero-19">To Joinora.</h3>

                         
                        </div>
                    </div>
                </div>
            </div>
            {% comment %} <div class="item">
                <div class="slider-info banner-view banner-top2">
                    <div class="container">
                        <div class="banner-info header-hero-19">
                            <h5>Designing Dreams</h5>
                            <h3 class="title-hero-19">Decorate ideas</h3>

                            <a href="about.html" class="btn btn-style btn-banner mt-sm-5 mt-4">Read More </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="item">
                <div class="slider-info banner-view banner-top3">
                    <div class="container">
                        <div class="banner-info header-hero-19">
                            <h5>Inspirational interiors</h5>
                            <h3 class="title-hero-19">Interior Designs.</h3>

                            <a href="about.html" class="btn btn-style btn-banner mt-sm-5 mt-4">Read More </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="item">
                <div class="slider-info banner-view banner-top4">
                    <div class="container">
                        <div class="banner-info header-hero-19">
                            <h5>Designing Dreams</h5>
                            <h3 class="title-hero-19">Decorate ideas</h3>

                            <a href="about.html" class="btn btn-style btn-banner mt-sm-5 mt-4">Read More </a>
                        </div>
                    </div>
                </div>
            </div> {% endcomment %}
        </div>

    </section>
    <!-- //main-slider -->
    <!--/bottom-3-grids-->
    <div class="w3l-3-grids py-5" id="grids-3">
        <div class="container py-md-5 py-2">
            <!-- Join Now Button -->
            <div class="row justify-content-center mb-4">
                <div class="col-12 text-center">
                    <a href="#" class="btn btn-style btn-primary join-now-btn"
                        style="padding: 12px 30px; font-size: 16px; font-weight: 600; border-radius: 4px;">
                        Join Now
                    </a>
                </div>
            </div>

            <!-- Join Now Popup -->
            <div id="join-now-popup" class="popup-overlay"
                style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; justify-content: center; align-items: center;">
                <div class="popup-content"
                    style="background: white; padding: 30px; border-radius: 8px; width: 90%; max-width: 500px; position: relative;">
                    <h3 class="title-w3l two mb-4">Join Us Now</h3>
                    <form method="POST" class="needs-validation" id="joinNowForm" novalidate>
                        {% csrf_token %}
                        <div class="row">
                            <div class="mb-3">
                                <input type="text" class="form-control" id="first_name_2" name="first_name"
                                    placeholder="Please Enter Your Full Name" required>
                                <div class="invalid-feedback">
                                    Please enter your full name
                                </div>
                            </div>
                            {% comment %} <div class="col-md-6 mb-3">
                                <input type="text" class="form-control" id="last_name_2" name="last_name"
                                    placeholder="Last Name" required>
                                <div class="invalid-feedback">
                                    Please enter your last name
                                </div>
                            </div> {% endcomment %}
                        </div>
                        <div class="mb-3">
                            <input type="email" class="form-control" id="email_2" name="email"
                                placeholder="Email Address" required>
                            <div class="invalid-feedback">
                                Please enter a valid email address
                            </div>
                        </div>
                        <div class="mb-3">
                            <input type="tel" class="form-control" id="phone_2" name="phone"
                                placeholder="Contact Number" pattern="[0-9]{10}" required>
                            <div class="invalid-feedback">
                                Please enter a valid 10-digit phone number
                            </div>
                        </div>
                        <div class="mb-3">
                            <input type="text" class="form-control" id="ref_code_2" name="ref_code"
                                placeholder="Enter reference code">
                            <div class="invalid-feedback">
                                Enter reference code
                            </div>
                        </div>
                        <div class="mb-3">
                            <textarea class="form-control" id="address_2" name="address" 
                                placeholder="Enter your full address" rows="2" required></textarea>
                            <div class="invalid-feedback">
                                Please enter your address
                            </div>
                        </div>
                        <div class="mb-3">
                            <select class="form-select" id="user_type_2" name="user_type" required>
                                <option value="" selected disabled>Select Role & Price</option>
                                <option value="job_seeker">Job Seeker - ₹99</option>
                                <option value="joiner">Hourly Worker - ₹149</option>
                                <option value="freelancer">Freelancer - ₹299</option>
                                <option value="part_time">Employer / Business - ₹319</option>
                                <option value="employer">Machine Owner - ₹429</option>
                            </select>
                            <div class="invalid-feedback">
                                Please select a user type
                            </div>
                        </div>
                        <div class="mb-4">
                            <div class="input-group">
                                <span class="input-group-text">₹</span>
                                <input type="text" class="form-control" id="amount_2" name="amount" value="" readonly
                                    required>
                            </div>
                            <div class="invalid-feedback">
                                Please select a user type to see the amount
                            </div>
                        </div>
                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="termsCheckbox2" required>
                                            <label class="form-check-label" for="termsCheckbox2">
                                                I accept the <a href="#" id="terms-link-2" class="text-primary">Terms & Conditions</a>
                                            </label>
                                        </div>
                                        <button type="submit" id="rzp-button-2" class="btn btn-primary w-100" disabled>Proceed to
                                            Payment</button>
                    </form>
                    <a href="#" class="close-popup"
                        style="position: absolute; top: 15px; right: 20px; font-size: 28px; color: #333; text-decoration: none; font-weight: bold;">×</a>
                </div>
            </div>

            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    const joinBtns = document.querySelectorAll('.join-now-btn, .search-btn[href="#join-now"]');
                    const popup = document.getElementById('join-now-popup');
                    const closeBtn = document.querySelector('.close-popup');
                    const form = document.getElementById('joinNowForm');
                    const userType = document.getElementById('user_type_2');
                    const amountField = document.getElementById('amount_2');

                    // Open popup for all join buttons
                    if (joinBtns.length && popup) {
                        joinBtns.forEach(btn => {
                            btn.addEventListener('click', function (e) {
                                e.preventDefault();
                                popup.style.display = 'flex';
                                document.body.style.overflow = 'hidden';
                            });
                        });
                    }

                    // Close popup
                    if (closeBtn) {
                        closeBtn.addEventListener('click', function (e) {
                            e.preventDefault();
                            popup.style.display = 'none';
                            document.body.style.overflow = 'auto';
                        });
                    }

                    // Update amount based on user type
                    if (userType && amountField) {
                        userType.addEventListener('change', function () {
                            const rolePricing = {
                                'job_seeker': '99',
                                'joiner': '149',
                                'part_time': '319',
                                'employer': '429',
                                'freelancer': '299'
                            };
                            amountField.value = rolePricing[this.value] || '';
                        });
                    }

                    // Form submission with Razorpay integration
                    if (form) {
                        form.addEventListener('submit', async function (e) {
                            e.preventDefault();

                            if (!form.checkValidity()) {
                                e.stopPropagation();
                                form.classList.add('was-validated');
                                return;
                            }

                            // Disable the button to prevent multiple clicks
                            const submitBtn = form.querySelector('button[type="submit"]');
                            const originalBtnText = submitBtn.innerHTML;
                            submitBtn.disabled = true;
                            submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Processing...';

                            try {
                                // Get form data
                                const formData = {
                                    first_name: form.querySelector('[name="first_name"]').value,
                                    email: form.querySelector('[name="email"]').value,
                                    phone: form.querySelector('[name="phone"]').value,
                                    user_type: userType.value,
                                    amount: amountField.value,
                                    ref_code: document.getElementById('ref_code_2')?.value || '',
                                    address: document.getElementById('address_2')?.value || ''
                                };

                                // Create an order on the server
                                const response = await fetch('/create-order/', {
                                    method: 'POST',
                                    headers: {
                                        'Content-Type': 'application/json',
                                        'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
                                    },
                                    body: JSON.stringify({
                                        role: formData.user_type
                                    })
                                });

                                const orderData = await response.json();

                                if (orderData.error) {
                                    throw new Error(orderData.error);
                                }

                                // Razorpay options
                                const options = {
                                    key: orderData.key,
                                    amount: orderData.amount,
                                    currency: 'INR',
                                    name: 'Joinora',
                                    description: 'Account Registration',
                                    order_id: orderData.id,
                                    handler: async function (response) {
                                        try {
                                            // Send payment details to server for verification
                                            const paymentResponse = await fetch('/handle-payment/', {
                                                method: 'POST',
                                                headers: {
                                                    'Content-Type': 'application/json',
                                                    'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
                                                },
                                                body: JSON.stringify({
                                                    ...formData,
                                                    razorpay_payment_id: response.razorpay_payment_id,
                                                    razorpay_order_id: response.razorpay_order_id,
                                                    razorpay_signature: response.razorpay_signature
                                                })
                                            });

                                            const result = await paymentResponse.json();

                                            if (result.status === 'success') {
                                                window.location.href = result.redirect;
                                            } else {
                                                throw new Error(result.message || 'Payment failed');
                                            }
                                        } catch (error) {
                                            console.error('Payment processing error:', error);
                                            alert('Error processing payment: ' + error.message);
                                            submitBtn.disabled = false;
                                            submitBtn.innerHTML = originalBtnText;
                                        }
                                    },
                                    prefill: {
                                        name: `${formData.first_name}`.trim(),
                                        email: formData.email,
                                        contact: formData.phone
                                    },
                                    theme: {
                                        color: '#ff9e00'
                                    }
                                };

                                // Initialize Razorpay payment
                                const rzp = new Razorpay(options);
                                rzp.on('payment.failed', function (response) {
                                    alert('Payment failed. Please try again.');
                                    submitBtn.disabled = false;
                                    submitBtn.innerHTML = originalBtnText;
                                });
                                rzp.open();

                            } catch (error) {
                                console.error('Error:', error);
                                alert('An error occurred: ' + error.message);
                                submitBtn.disabled = false;
                                submitBtn.innerHTML = originalBtnText;
                            }
                        });
                    }
                });
            </script>

            <!--/row-1-->
            <div class="row mb-5 pb-lg-4">
                <div class="col-lg-6 pe-lg-5">
                    <div class="title-content text-left">
                        <h6 class="title-subw3hny mb-1">About Us</h6>
                        <h3 class="title-w3l">We provide you the quality with perfect credibility </h3>
                    </div>
                </div>
                <div class="col-lg-6 mt-lg-0 mt-md-5 mt-4 ps-lg-5">

                    <p class="mb-4 text-center">
                        We bring together job seekers, part-time workers, hourly helpers, skilled
                        freelancers, and employers in one trusted network.</p>
                </div>
            </div>
            <!--//row-1-->
            <div class="row pt-md-0 pt-5">
                <div class="col-lg-4 col-md-6 mt-md-0 mt-sm-4 px-lg-0">
                    <div class="grids3-info position-relative">
                        <a href="#" class="d-block zoom"><img src="{% static 'assets/images/g8.jpg' %}" alt=""
                                class="img-fluid news-image"></a>
                        <div class="w3-grids3-info">
                            <h6><a href="#category" class="category d-block">Grow Faster</a></h6>
                            <h4><a href="#">Connects job seekers and recruiters on trusted platform</a></h4>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mt-md-0 mt-4 px-lg-0 grids3-info2">
                    <div class="grids3-info second position-relative">
                        <a href="blog-single.html" class="d-block zoom"><img src="{% static 'assets/images/g2.jpg' %}"
                                alt="" class="img-fluid news-image"></a>
                        <div class="w3-grids3-info second">
                            <h6><a href="#category" class="category d-block">Match Your Skills</a></h6>
                            <h4><a href="#">Explore verified job opportunities across multiple industries</a></h4>

                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mt-lg-0 mt-4 px-lg-0">
                    <div class="grids3-info position-relative">
                        <a href="blog-single.html" class="d-block zoom"><img src="{% static 'assets/images/g4.jpg' %}"
                                alt="" class="img-fluid news-image"></a>
                        <div class="w3-grids3-info">
                            <h6><a href="#category" class="category d-block">Hire Faster</a></h6>
                            <h4><a href="#">Review candidates, and connect directly</a></h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--//bottom-3-grids-->

    <!--/w3-grids-->
    <section class="w3l-passion-mid-sec py-5">
        <div class="container py-md-5 py-3">
            <div class="container">
                <div class="row w3l-passion-mid-grids">
                    <div class="col-lg-6 passion-grid-item-info pe-lg-5 mb-lg-0 mb-5">

                        {% comment %} <div class="content-8-img"><img src="{% static 'assets/images/middlee.jpg' %}"
                                class="img-fluid radius-image" alt=""></div> {% endcomment %}
                                <div class="content-8-img">
    <img src="{% static 'assets/images/middle.avif' %}" class="img-fluid custom-tall-img" alt="">
</div>
                    </div>
                    <div class="col-lg-6 w3hny-passion-item w3l-content-8">
                        <h6 class="title-subw3hny mb-1">What We Offer</h6>
                        <h3 class="title-w3l mb-3">Simple & Trusted Job Opportunities for Everyone Alternate.</h3>
                        <p class="mb-5">Joinora is a simple job discovery platform designed to help job seekers find genuine opportunities and employers reach the right candidates</p>
                        <ul class="w3-list-icons-grids">
                            <li class="icon-list-item-gd">
                                <div class="icon-gd"><i aria-hidden="true" class="fas fa-hotel"></i>
                                </div>
                                <div class="icon-inf">
                                    <h5>Find jobs near your area</h5>
                                    <p class="text-para">Browse verified local jobs and connect with nearby employers for faster hiring and less travel </p>
                                </div>
                            </li>
                            <li class="icon-list-item-gd">
                                <div class="icon-gd"><i aria-hidden="true" class="fas fa-door-open"></i>
                                </div>
                                <div class="icon-inf">
                                    <h5>Post job openings quickly</h5>
                                    <p class="text-para">Post jobs and connect with nearby verified candidates for full-time, part-time, or short-term work with secure contact access </p>
                                </div>
                            </li>
                            <li class="icon-list-item-gd">
                                <div class="icon-gd"><i aria-hidden="true" class="fas fa-industry"></i>
                                </div>
                                <div class="icon-inf">
                                    <h5>WHAT WE OFFER</h5>
                                    <p class="text-para">We verify profiles and focus on area-wise access so work gets done faster, cheaper, and more reliably </p>
                                </div>
                            </li>
                            <li class="icon-list-item-gd">
                                <div class="icon-gd"><i aria-hidden="true" class="fas fa-building"></i>
                                </div>
                                <div class="icon-inf">
                                    <h5>Industries we support </h5>
                                    <p class="text-para">Manufacturing, CNC & VMC work, logistics, construction, short-term labor, local services, and freelancers </p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </section>
    <!--//w3-grids-->
    <!--/Gallery-Section-->
    
    <!--//Gallery-Section-->
    <!--/w3l-midslider-->
    <section class="w3l-midslider py-5" id="midslider">
        <!-- /grids -->
        <div class="container py-md-5">
            <div class="row">
                <div class="col-lg-5 title-content text-left pe-lg-5 mb-lg-0 mb-5">
                    <h6 class="title-subw3hny mb-1">Stats</h6>
                    <h3 class="title-w3l mb-3">Building Trust in Job Discovery</h3>
                    <p class="mb-5">Joinora is a growing job discovery platform focused on simplicity, transparency, and accessibility</p>
                    <div class="row w3l-stats-section stats-con mt-4" id="stats">
                        <div class="col-6 stats_info counter_grid">
                            {% comment %} <p class="counter">1500 </p>
                            <h3>PRojects</h3> {% endcomment %}
                        </div>
                        <div class="col-6 stats_info counter_grid">
                            {% comment %} <p class="counter">2360</p>
                            <h3>Awards</h3> {% endcomment %}
                        </div>

                    </div>
                </div>
                <!-- /grids -->
                <div class="col-lg-7 testimonial-width midslider-width ps-lg-3">
                    <div id="owl-demo2" class="owl-three owl-carousel owl-theme">
                        <div class="item">
                            <div class="mid-slider-content">
                                <img src="{% static 'assets/images/ab1.jpg' %}" class="img-fluid radius-image" alt="">
                            </div>
                        </div>
                        <div class="item">
                            <div class="mid-slider-content">
                                <img src="{% static 'assets/images/ab2.jpg' %}" class="img-fluid radius-image" alt="">
                            </div>
                        </div>
                        <div class="item">
                            <div class="mid-slider-content">
                                <img src="{% static 'assets/images/ab3.jpg' %}" class="img-fluid radius-image" alt="">
                            </div>
                        </div>
                        <div class="item">
                            <div class="mid-slider-content">
                                <img src="{% static 'assets/images/ab4.jpg' %}" class="img-fluid radius-image" alt="">
                            </div>
                        </div>
                        <div class="item">
                            <div class="mid-slider-content">
                                <img src="{% static 'assets/images/ab5.jpg' %}" class="img-fluid radius-image" alt="">
                            </div>
                        </div>
                        <div class="item">
                            <div class="mid-slider-content">
                                <img src="{% static 'assets/images/ab6.jpg' %}" class="img-fluid radius-image" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /grids -->
        </div>
    </section>
    <!--//w3l-midslider-->

    <!--/w3l-text-11-main-->
    <section class="w3l-text-11 py-5">
        <div class="text11 py-md-5 py-2">
            <div class="container">
                <div class="title-content text-center">
                    <h6 class="title-subw3hny text-center">WHY</h6>
                    <h3 class="title-w3l mb-3 text-center">JOINORA EXISTS</h3>
                </div>
<div class="joinora-section mt-4">

    <h4 class="text-center mb-4">Built for Real Local Problems</h4>
    <p class="mb-4 text-center">
        JoinOra was created after observing real, everyday problems faced by businesses,
        workers, and professionals.
    </p>

    <!-- Problem 1 -->
    <h5>
        <i class="fas fa-circle me-2" style="color:#ff9800;"></i>
        Local Hiring Without Contacts
    </h5>
    <ul>
        <li>The right employee may live nearby</li>
        <li>No local connection between employers & workers</li>
        <li>Hiring gets delayed or becomes impossible</li>
    </ul>
    <p>
        JoinOra connects employers and job seekers area-wise, making hiring faster and local.
    </p>

    <!-- Problem 2 -->
    <h5>
        <i class="fas fa-circle me-2" style="color:#ff9800;"></i>
        Short-Time & Helper Work (4–5 Hours Jobs)
    </h5>
    <p>Many businesses need short-duration help:</p>
    <ul>
        <li>Loading & unloading</li>
        <li>Temporary helpers</li>
        <li>Small tasks (2–6 hours)</li>
    </ul>
    <p>JoinOra helps employers find instant, nearby helpers without middlemen.</p>

    <!-- Problem 3 -->
    <h5>
        <i class="fas fa-circle me-2" style="color:#ff9800;"></i>
        Freelancers & Skilled Professionals
    </h5>
    <p>Businesses often need skilled support:</p>
    <ul>
        <li>Programmers</li>
        <li>Designers</li>
        <li>Technicians</li>
        <li>Digital & technical freelancers</li>
    </ul>
    <p>JoinOra helps freelancers find local clients and build trust.</p>

    <!-- Problem 4 -->
    <h5>
        <i class="fas fa-circle me-2" style="color:#ff9800;"></i>
        Machine Sharing & Work Outsourcing
    </h5>
    <ul>
        <li>Machines overloaded</li>
        <li>Not enough production capacity</li>
        <li>Delivery pressure increases</li>
    </ul>
    <p>Nearby workshops may have free machines — JoinOra makes that connection.</p>

    <!-- Mission -->
    <h4 class="mt-5">
        <i class="fas fa-bullseye me-2" style="color:#ff4081;"></i>
        OUR MISSION
    </h4>
    <p><strong>Connecting People, Skills & Machines — Locally.</strong></p>
    <ul>
        <li>Connect people area-wise</li>
        <li>Reduce unnecessary travel & cost</li>
        <li>Support small businesses</li>
        <li>Encourage local collaboration</li>
        <li>Make work opportunities accessible to everyone</li>
    </ul>

    <!-- What Makes Joinora Different -->
    <h4 class="mt-4">
        <i class="fas fa-star me-2" style="color:#ffcc00;"></i>
        WHAT MAKES JOINORA DIFFERENT
    </h4>
    <ul>
        <li>Area-wise visibility</li>
        <li>Short-time & flexible work support</li>
        <li>Freelancers + helpers + businesses</li>
        <li>Machine & capacity sharing</li>
        <li>Simple, affordable & transparent</li>
    </ul>

    <p class="mt-3"><strong>JoinOra is not just a job portal — it is a local work connection platform.</strong></p>
</div>

                <!-- /grids -->
            </div>

        </div>
    </section>
    <!-- //blog-grids -->
    <!--/w3l-project-->
    <section class="w3l-join-main py-5">
        <div class="container py-md-3">
            <div class="w3l-project-in">
                <div class="row">
                    <div class="col-lg-7">
                        <div class="bottom-info">
                            <div class="header-section pe-lg-5">
                                <h5 class="title-subw3hny mb-3">Invite Your Friends</h5>
                                <!-- <h3 class="title-w3l mb-3">Refer and Get Free Services -->
                                </h3>
                                <p>Find work, hire people, collaborate, or offer your services — all in one place.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5 align-self mt-lg-0 mt-sm-5 mt-4">
                        <div class="w3l-buttons d-sm-flex justify-content-end ">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--//w3l-project-->
    <!--/testimonials-->
    <!--//testimonials-->
    <!--/w3l-footer-29-main-->
    <footer class="w3l-footer-29-main">
        <div class="footer-29 py-5">
            <div class="container py-lg-4">
                <div class="row footer-top-29">
                    <div class="col-lg-4 footer-list-29 footer-1 pe-lg-5">
                        <h2><a class="navbar-brand" href="index.html">
                                <span class="w3yellow">JOIN</span>ORA.</a></h2>
                        <p class="parahny pr-lg-5 mr-xl-4 mb-4">A single platform to connect people, work, and opportunities — locally and beyond.
                        </p>

                    </div>
                    <div class="col-lg-4 footer-list-29 footer-3 mt-lg-0 mt-5 pe-lg-5">
                        <h6 class="footer-title-29">Quick Links</h6>
                        <div class="footer-listw3-grids">
                            <ul class="footer-listw3">
                                <li><a href="{% url 'home' %}">Home</a></li>
                                <li><a href="{% url 'about' %}">About</a></li>
                            </ul>
                            <ul class="footer-listw3">
                                <li><a href="#" id="terms-link-4">Terms & Condition</a></li>
                                <!-- <li><a href="#term">Terms of use</a></li> -->
                                <!-- <li><a href="#sales">Sales and Refunds</a></li>
                                <li><a href="#faq">FAQ</a></li> -->
                            </ul>
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-6 footer-list-29 footer-4 mt-lg-0 mt-5">
                        <h6 class="footer-title-29">Keep Connected</h6>
                        <p>Get Updates By Join Our Platform</p>

                        <!-- <form action="#" class="subscribe" method="post">
                            <input type="email" name="email" placeholder="Your Email Address" required="">
                            <button><span class="fas fa-paper-plane"></span></button>
                        </form> -->
                        <!-- <div class="main-social-footer-29 mt-4">
                            <a href="#facebook" class="facebook"><span class="fab fa-facebook-f"></span></a>
                            <a href="#twitter" class="twitter"><span class="fab fa-twitter"></span></a>
                            <a href="#pinterest"><span class="fab fa-pinterest-p"></span></a>
                            <a href="#instagram" class="instagram"><span class="fab fa-instagram"></span></a>
                            <a href="#google" class="google"><span class="fab fa-google-plus-g"></span></a>
                            <a href="#linkd" class="linkd"><span class="fab fa-linkedin-in"></span></a>
                        </div> -->
                    </div>
                </div>
                <!-- <div class="bottom-copies text-center">
                    <p class="copy-footer-29"> 2021 Intrados. All rights reserved .</p>
                </div> -->
            </div>
        </div>

        <!-- move top -->
        <button onclick="topFunction()" id="movetop" title="Go to top">
            <span class="fa fa-angle-up"></span>
        </button>
        <script>
            // When the user scrolls down 20px from the top of the document, show the button
            window.onscroll = function () {
                scrollFunction()
            };

            function scrollFunction() {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    document.getElementById("movetop").style.display = "block";
                } else {
                    document.getElementById("movetop").style.display = "none";
                }
            }

            // When the user clicks on the button, scroll to the top of the document
            function topFunction() {
                document.body.scrollTop = 0;
                document.documentElement.scrollTop = 0;
            }

        </script>
        <!-- //move top -->
    </footer>

    <!-- Terms & Conditions Popup -->
    <div id="terms-popup" class="popup-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; justify-content: center; align-items: center;">
        <div class="popup-content" style="background: white; padding: 30px; border-radius: 8px; width: 90%; max-width: 800px; max-height: 80vh; overflow-y: auto; position: relative;">
            <h3 class="title-w3l two mb-4">Terms & Conditions</h3>
            <div class="terms-content">
                <h5>1. About JoinOra</h5>
                <p>JoinOra is an online job-listing platform designed to connect job seekers with employers.</p>
                <p> JoinOra is not a recruitment agency, placement consultancy, or employer. 
                    We act only as an intermediary platform and do not influence hiring decisions </p>
                
                <h5>2. Eligibility & Age Requirement</h5>
                <p>Users must be at least 16 years old to register on JoinOra.
Users below 18 years of age may:
Browse job listings
Apply only for internships, apprenticeships, training programs, or part-time roles, where legally permitted
Applications for full-time employment may require the user to meet legal age requirements as per applicable laws. </p>
<p>JoinOra does not knowingly collect personal data from children under the age of 13.</p>
                <p> Applications for full-time employment may require the user to meet legal age requirements as per applicable laws</P>

                
                <h5>3. Free for Job Seekers</h5>
                <p>JoinOra does not charge any fees from job seekers for browsing or applying to jobs.
We do not guarantee job placement, interviews, or employment.</p>
                <p>All communication between job seekers and employers occurs at the user’s own discretion </p>

                <h5>4. Employer Responsibilities</h5?
                    <p> Employers using JoinOra agree that:
All job postings are accurate, lawful, and genuine
Job listings must not include:
Registration fees
Advance payments
Illegal, misleading, or deceptive offers
Employers are solely responsible for recruitment, interviews, and hiring decisions
JoinOra reserves the right to remove or block any job listing or employer account without notice if violations are found</p>
                
                <h5>5. No Guarantee of Authenticity</h5>
                <p>While reasonable steps are taken to reduce fraudulent activity, JoinOra does not guarantee:
Accuracy of job listings
Legitimacy of employers
Safety of interactions outside the platform
Users are strongly advised to verify employers independently and never share financial or sensitive personal information.</p>
                <h5>6. Prohibited Use</h5>
                                <p>Users must not:
Post fake or scam job listings
Misrepresent personal or company information
Use the platform for unlawful purposes
Attempt to collect user data without consent
Misuse or copy website content
Violation may result in account suspension or permanent termination.</p>
                <h5>7. Limitation of Liability</h5>
                <p>JoinOra shall not be held liable for:
Loss of job opportunities
Financial loss or damages
Disputes between job seekers and employers
Actions taken based on job listings
Use of the platform is entirely at the user’s own risk.
8. Intellectual Property.</p>
                <h5>8. Intellectual Property</h5>
                <p>All content on JoinOra, including text, design, layout, logos, and graphics, is the property of JoinOra and may not be copied or reused without permission.</p>
                <h5>9. Third-Party Links & Advertisements</h5>
                <p>JoinOra may display:
Third-party advertisements
External website links
We are not responsible for third-party content, policies, or services.</p>
                <h5>10. Account Suspension or Termination</h5>
                <p>JoinOra reserves the right to:
Suspend or terminate user access
Remove content
Block users or employers violating these Terms
No prior notice is required in such cases.</p>
                <h5>11. Privacy</h5>
                <p>Use of JoinOra is subject to our Privacy Policy, which explains how user data is collected, stored, and used..</p>
                <h5>12. Changes to Terms</h5>
                <p>JoinOra may modify these Terms & Conditions at any time.
Continued use of the platform indicates acceptance of the updated terms.</p>
                <h5>13. Governing Law</h5>
                <p>These Terms & Conditions are governed by the laws of India.
Any disputes shall be subject to the jurisdiction of Indian courts..</p>
                <h5>14. Contact & Reporting</h5>
                <p>For questions, concerns, or reporting misuse, users may contact us via the Contact Us page on the website..</p>
            </div>
            <div class="text-center mt-4">
                <button id="close-terms" class="btn btn-style btn-primary">Close</button>
            </div>
        </div>
    </div>

    <!-- Template JavaScript -->
    <script src="{% static 'assets/js/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'assets/js/theme-change.js' %}"></script>
    <!--light-box-files -->
    <script src="{% static 'assets/js/jquery-2.1.4.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery.chocolat.js' %}"></script>
    <script type="text/javascript ">
        $(function() {
            $('.w3_agile_portfolio_grid a').Chocolat();
        });

    </script>
    <!-- /js for portfolio lightbox -->
    <!-- stats number counter-->
    <script src="{% static 'assets/js/jquery.waypoints.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery.countup.js' %}"></script>
    <script>
        $('.counter').countUp();

    </script>
    <!-- //stats number counter -->
    <!-- owlcarousel -->
    <script src="{% static 'assets/js/owl.carousel.js' %}"></script>
    <!-- script for banner slider-->
    <script>
        $(document).ready(function () {
            $('.owl-one').owlCarousel({
                loop: true,
                margin: 0,
                nav: false,
                responsiveClass: true,
                autoplay: true,
                autoplayTimeout: 5000,
                autoplaySpeed: 1000,
                autoplayHoverPause: false,
                responsive: {
                    0: {
                        items: 1
                    },
                    480: {
                        items: 1
                    },
                    667: {
                        items: 1
                    },
                    1000: {
                        items: 1
                    }
                }
            })
        })

    </script>
    <!-- //script -->
    <!-- script for tesimonials carousel slider -->
    <script src="{% static 'assets/js/owl.carousel.js' %}"></script>

    <script>
        $(document).ready(function () {
            $("#owl-demo1").owlCarousel({
                loop: true,
                margin: 20,
                nav: false,
                responsiveClass: true,
                responsive: {
                    0: {
                        items: 1,
                        nav: false
                    },
                    768: {
                        items: 2,
                        nav: false
                    },
                    1000: {
                        items: 3,
                        nav: false,
                        loop: false
                    }
                }
            })
        })

    </script>
    <!-- //script for tesimonials carousel slider -->
    <!-- script for midslider carousel slider -->
    <script src="{% static 'assets/js/owl.carousel.js' %}"></script>

    <script>
        $(document).ready(function () {
            $("#owl-demo2").owlCarousel({
                loop: true,
                margin: 20,
                nav: false,
                responsiveClass: true,
                responsive: {
                    0: {
                        items: 1,
                        nav: false
                    },
                    768: {
                        items: 2,
                        nav: false
                    },
                    1000: {
                        items: 2,
                        nav: false,
                        loop: false
                    }
                }
            })
        })

    </script>
    <!-- //script for midslider carousel slider -->
    <!-- video popup -->
    <script src="{% static 'assets/js/jquery.magnific-popup.min.js' %}"></script>
    <script>
        $(document).ready(function () {
            $('.popup-with-zoom-anim').magnificPopup({
                type: 'inline',

                fixedContentPos: false,
                fixedBgPos: true,

                overflowY: 'auto',

                closeBtnInside: true,
                preloader: false,

                midClick: true,
                removalDelay: 300,
                mainClass: 'my-mfp-zoom-in'
            });

            $('.popup-with-move-anim').magnificPopup({
                type: 'inline',

                fixedContentPos: false,
                fixedBgPos: true,

                overflowY: 'auto',

                closeBtnInside: true,
                preloader: false,

                midClick: true,
                removalDelay: 300,
                mainClass: 'my-mfp-slide-bottom'
            });
        });

    </script>
    <!-- //video popup -->
    <!-- MENU-JS -->
    <script>
        $(window).on("scroll", function () {
            var scroll = $(window).scrollTop();

            if (scroll >= 80) {
                $("#site-header").addClass("nav-fixed");
            } else {
                $("#site-header").removeClass("nav-fixed");
            }
        });

        //Main navigation Active Class Add Remove
        $(".navbar-toggler").on("click", function () {
            $("header").toggleClass("active");
        });
        $(document).on("ready", function () {
            if ($(window).width() > 991) {
                $("header").removeClass("active");
            }
            $(window).on("resize", function () {
                if ($(window).width() > 991) {
                    $("header").removeClass("active");
                }
            });
        });

    </script>
    <!-- //MENU-JS -->

    <!-- disable body scroll which navbar is in active -->
    <script>
        $(function () {
            $('.navbar-toggler').click(function () {
                $('body').toggleClass('noscroll');
            })
        });

    </script>
    <!-- //disable body scroll which navbar is in active -->

    <!-- Template JavaScript -->
    <script>
        // Terms & Conditions Popup
        document.addEventListener('DOMContentLoaded', function() {
            const termsLink = document.getElementById('terms-link');
            const termsPopup = document.getElementById('terms-popup');
            const closeTerms = document.getElementById('close-terms');
            
            if (termsLink) {
                termsLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    termsPopup.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                });
            }
            
            if (closeTerms) {
                closeTerms.addEventListener('click', function() {
                    termsPopup.style.display = 'none';
                    document.body.style.overflow = 'auto';
                });
            }
            
            // Close when clicking outside the popup content
            if (termsPopup) {
                termsPopup.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                });
            }
        });

        document.addEventListener('DOMContentLoaded', function () {
            // Get all join buttons
            const joinButtons = document.querySelectorAll('a[href="#banner-join-now"]');
            const popup = document.getElementById('banner-join-now');

            // Function to show popup
            function showPopup() {
                if (popup) {
                    popup.style.display = 'flex';
                    popup.style.opacity = '1';
                    document.body.style.overflow = 'hidden';
                }
            }

            // Function to hide popup
            function hidePopup() {
                if (popup) {
                    popup.style.opacity = '0';
                    setTimeout(() => {
                        popup.style.display = 'none';
                    }, 300);
                    document.body.style.overflow = 'auto';
                }
            }

            // Add click event to all join buttons
            joinButtons.forEach(button => {
                button.addEventListener('click', function (e) {
                    e.preventDefault();
                    showPopup();
                });
            });

            // Close when clicking the close button
            const closeBtn = popup ? popup.querySelector('.close') : null;
            if (closeBtn) {
                closeBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    hidePopup();
                });
            }

            // Close when clicking outside the popup
            if (popup) {
                popup.addEventListener('click', function (e) {
                    if (e.target === this) {
                        hidePopup();
                    }
                });
            }

            // Close with Escape key
            document.addEventListener('keydown', function (e) {
                if (e.key === 'Escape' && popup && popup.style.display === 'flex') {
                    hidePopup();
                }
            });

            // Form validation
            const form = document.getElementById('bannerJoinForm');
            if (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            }
        });
    </script>
    <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
    <script>
        // Enable/disable payment buttons based on terms checkbox
        document.addEventListener('DOMContentLoaded', function () {
            // For first form
            const termsCheckbox = document.getElementById('termsCheckbox');
            const paymentButton = document.getElementById('rzp-button');
            
            if (termsCheckbox && paymentButton) {
                termsCheckbox.addEventListener('change', function() {
                    paymentButton.disabled = !this.checked;
                });
            }

            // For second form (popup)
            const termsCheckbox2 = document.getElementById('termsCheckbox2');
            const paymentButton2 = document.getElementById('rzp-button-2');
            
            if (termsCheckbox2 && paymentButton2) {
                termsCheckbox2.addEventListener('change', function() {
                    paymentButton2.disabled = !this.checked;
                });
            }

            // Add click handlers for all terms links to show terms popup
            const termsLinks = ['terms-link-1', 'terms-link-2', 'terms-link-3', 'terms-link-4'];
            
            termsLinks.forEach(linkId => {
                const link = document.getElementById(linkId);
                if (link) {
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        // Make sure the showPopup function is available in the global scope
                        if (typeof showPopup === 'function') {
                            showPopup();
                        } else {
                            // Fallback to direct popup display if showPopup is not available
                            const termsPopup = document.getElementById('terms-popup');
                            if (termsPopup) {
                                termsPopup.style.display = 'flex';
                                document.body.style.overflow = 'hidden';
                            }
                        }
                    });
                }
            });
            const form = document.getElementById('joinForm');
            const userType = document.getElementById('userType');
            const amountField = document.getElementById('amount');
            const rzpButton = document.getElementById('rzp-button');

            // Update amount based on user type
            userType.addEventListener('change', function () {
                const rolePricing = {
                    'job_seeker': '99',
                    'joiner': '149',
                    'part_time': '319',
                    'employer': '429',
                    'freelancer': '299'
                };
                amountField.value = rolePricing[this.value] || '';
            });

            // Form submission
            form.addEventListener('submit', async function (e) {
                e.preventDefault();

                if (!form.checkValidity()) {
                    e.stopPropagation();
                    form.classList.add('was-validated');
                    return;
                }

                // Disable the button to prevent multiple clicks
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalBtnText = submitBtn.innerHTML;
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Processing...';

                try {
                    // Get form data
                    const formData = {
                        first_name: form.querySelector('[name="first_name"]').value,
                        last_name: form.querySelector('[name="last_name"]').value,
                        email: form.querySelector('[name="email"]').value,
                        phone: form.querySelector('[name="phone"]').value,
                        user_type: userType.value,
                        amount: amountField.value,
                        ref_code: document.getElementById('ref_code')?.value || '',
                        address: document.getElementById('address')?.value || ''
                    };

                    // First, create an order on your server
                    const response = await fetch('/create-order/', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
                        },
                        body: JSON.stringify({
                            role: formData.user_type  // Send role instead of amount
                        })
                    });

                    const orderData = await response.json();

                    if (orderData.error) {
                        throw new Error(orderData.error);
                    }

                    // Razorpay options
                    const options = {
                        key: orderData.key, // Use key from backend response
                        amount: orderData.amount,
                        currency: 'INR',
                        name: 'Joinora',
                        description: 'Account Registration',
                        order_id: orderData.id,
                        handler: async function (response) {
                            try {
                                // Get the reference code again in case it was changed
                                const refCode = document.getElementById('ref_code_2')?.value || '';

                                // Send payment details to your server for verification
                                const paymentResponse = await fetch('/handle-payment/', {
                                    method: 'POST',
                                    headers: {
                                        'Content-Type': 'application/json',
                                        'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
                                    },
                                    body: JSON.stringify({
                                        first_name: formData.first_name,
                                        last_name: formData.last_name,
                                        email: formData.email,
                                        phone: formData.phone,
                                        user_type: formData.user_type,
                                        amount: formData.amount,
                                        ref_code: refCode,
                                        razorpay_payment_id: response.razorpay_payment_id,
                                        razorpay_order_id: response.razorpay_order_id,
                                        razorpay_signature: response.razorpay_signature
                                    })
                                });

                                const result = await paymentResponse.json();

                                if (result.status === 'success') {
                                    window.location.href = result.redirect;
                                } else {
                                    throw new Error(result.message || 'Payment failed');
                                }
                            } catch (error) {
                                console.error('Payment processing error:', error);
                                alert('Error processing payment: ' + error.message);
                                submitBtn.disabled = false;
                                submitBtn.innerHTML = originalBtnText;
                            }
                        },
                        prefill: {
                            name: `${formData.first_name}`.trim(),
                            email: formData.email,
                            contact: formData.phone
                        },
                        theme: {
                            color: '#4CAF50'
                        }
                    };

                    // Initialize Razorpay payment
                    const rzp = new Razorpay(options);
                    rzp.open();

                } catch (error) {
                    console.error('Error:', error);
                    alert('An error occurred: ' + error.message);
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = originalBtnText;
                }
            });
        });
    </script>

</body>

</html>